(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{1:function(t,e){},"7bc4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"turnbg"},[s("div",{staticClass:"q-gutter-y-md",attrs:{align:"center"}},[s("div",{staticClass:"bg-white",staticStyle:{width:"80%","border-radius":"20px"},attrs:{align:"center"}},[s("div",{staticClass:"q-ma-sm text-primary text-bold",staticStyle:{"font-size":"2em"}},[t._v("EN TURNO: "+t._s(t.businessDetails.turnoActual))]),s("div",{staticClass:"q-ma-sm text-bold text-grey-9",staticStyle:{"font-size":"2.5em"}},[t._v("TU TURNO")]),s("div",{staticClass:"text-primary text-bold",staticStyle:{"font-size":"8em"}},[t._v(t._s(t.userDetails.turnoActual))])]),t.onRate||t.onTurn?t._e():s("div",{staticClass:"bg-primary text-white text-subtitle2 text-center q-pa-md",staticStyle:{width:"80%",border:"1px solid white","border-radius":"20px"}},[t._v("\n      Te enviaremos una notificación vía SMS o Whatsapp al número registrado en tu cuenta cuando sea tu turno\n    ")]),t.onRate?s("div",{staticClass:"bg-primary text-white text-subtitle2 text-center q-pa-md",staticStyle:{width:"80%","border-radius":"20px"}},[t._v("\n      ¡Gracias por tu visita! Te invitamos a calificar tu experiencia\n    ")]):t._e(),t.onTurn||t.onRate?t._e():s("q-btn",{staticStyle:{color:"#8767D3!important","font-size":"1.3em",width:"250px"},attrs:{label:"DEJAR TURNO",unelevated:"",outlined:"",rounded:"",color:"white"},on:{click:t.initLeave}}),t.onTurn?s("div",{staticClass:"bg-green-9 text-center q-ma-md q-pa-sm text-white text-subtitle1",staticStyle:{"border-radius":"20px"}},[t._v("¡YA ES TU TURNO! "),s("br"),t._v(" Puedes pasar al establecimiento")]):t._e(),s("q-btn",{staticStyle:{color:"#8767D3!important","font-size":"1.3em",width:"250px"},attrs:{label:"CALIFICAR",unelevated:"",outlined:"",rounded:"",color:"white"},on:{click:t.toRate}})],1),s("q-dialog",{attrs:{maximized:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("div",{staticClass:"confirmbg",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ma-sm",staticStyle:{"font-size":"2em"},attrs:{color:"white",dense:"",flat:"",icon:"close"}}),s("q-card",{staticClass:"q-ma-xl",staticStyle:{"border-radius":"20px"},attrs:{flat:"",bordered:"",align:"center"}},[s("img",{staticStyle:{"max-width":"200px"},attrs:{alt:"FilaSinFila",src:a("a214")}}),s("q-card-section",[s("div",{staticClass:"text-primary text-bold text-subtitle1 q-mb-md",staticStyle:{"font-size":"1.4em"}},[t._v("¿ESTÁS SEGURO QUE DESEAS DEJAR TU TURNO?")]),s("q-btn",{staticClass:"q-mb-md",staticStyle:{"font-size":"1.4em"},attrs:{color:"secondary",label:"Confirmar",rounded:"",unelevated:""},on:{click:t.confirmLeave}}),s("div",{staticClass:"text-primary text-bold text-subtitle2 q-mb-md"},[t._v("Recuerda que tienes hasta 3 turnos por día y solo 1 simultáneo")])],1)],1)],1)])],1)},n=[],i=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),r=a.n(i),o=a("2f62"),c=a("2a19"),l=a("bc3a"),u=a.n(l),d=(a("a7fe"),a("8055")),p=a.n(d);function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){r()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f=p()(),v={name:"Turn",data:function(){return{turnBusiness:39,turnUser:40,timer:15,timer2:15,showt1:!0,showt2:!1,onTurn:!1,onRate:!1,confirm:!1}},methods:m(m({},Object(o["b"])("store",["updateBusiness"])),{},{initLeave:function(){var t=this,e=this.userDetails.turnID;u.a.get("/get-turn/"+e).then((function(e){console.log(e.data),"ok"==e.data.status?t.$router.push("/Home"):"espera"==e.data.status&&(t.confirm=!0)})).catch((function(t){console.log(t.response),c["a"].create({message:"Hubo un error. Favor de intentarlo de nuevo",color:"negative"})}))},confirmLeave:function(){var t=this,e=this.userDetails.turnID;u.a.post("/drop-turn/"+e,{}).then((function(e){console.log(e.data),t.$router.push("/Home")})).catch((function(t){console.log(t.response),c["a"].create({message:"Hubo un error. Favor de intentarlo de nuevo",color:"negative"})}))},toRate:function(){this.$router.push("/Rate")}}),computed:m({},Object(o["c"])("store",["businessDetails","userDetails"])),created:function(){var t=this;f.on("update-turn",(function(e){console.log(e),e.businessID==t.businessDetails.businessID&&(console.log("LETS UPDATE"),t.updateBusiness({turnoActual:e.turnoActual}))})),f.on("tu-turno",(function(e){console.log(e),e.userID==t.userDetails.userID&&e.businessID==t.businessDetails.businessID&&(t.onTurn=!0,alert("Ya es tu turno. Puedes ingresar al establecimiento"))}))}},g=v,h=(a("8616"),a("2877")),x=a("9989"),y=a("9c40"),w=a("24e8"),D=a("f09f"),S=a("a370"),O=a("7f67"),q=a("eebe"),C=a.n(q),T=Object(h["a"])(g,s,n,!1,null,"aa8b58cc",null);e["default"]=T.exports;C()(T,"components",{QPage:x["a"],QBtn:y["a"],QDialog:w["a"],QCard:D["a"],QCardSection:S["a"]}),C()(T,"directives",{ClosePopup:O["a"]})},8616:function(t,e,a){"use strict";var s=a("9e47"),n=a.n(s);n.a},"9e47":function(t,e,a){},a214:function(t,e,a){t.exports=a.p+"img/infoFila.52cc93a3.png"}}]);